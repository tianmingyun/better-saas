---
title: Vercel éƒ¨ç½²
---
é€šè¿‡æ— ç¼é›†æˆå’Œè‡ªåŠ¨éƒ¨ç½²ï¼Œå°†æ‚¨çš„ Better SaaS åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ° Vercelã€‚Vercel ä¸º Next.js åº”ç”¨ç¨‹åºæä¾›æœ€ä½³çš„å¼€å‘è€…ä½“éªŒï¼Œæ— éœ€é…ç½®ã€‚

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### ä¸€é”®éƒ¨ç½²

éƒ¨ç½² Better SaaS åº”ç”¨ç¨‹åºçš„æœ€å¿«æ–¹å¼ï¼š

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/your-username/better-saas)

### æ‰‹åŠ¨éƒ¨ç½²

1. **å®‰è£… Vercel CLI**
   ```bash
   npm install -g vercel
   ```

2. **ç™»å½•åˆ° Vercel**
   ```bash
   vercel login
   ```

3. **ä»é¡¹ç›®ç›®å½•éƒ¨ç½²**
   ```bash
   vercel
   ```

4. **æŒ‰ç…§æç¤ºæ“ä½œ**
   - è®¾ç½®å¹¶éƒ¨ç½²ï¼Ÿ **æ˜¯**
   - é€‰æ‹©å“ªä¸ªèŒƒå›´ï¼Ÿ **é€‰æ‹©æ‚¨çš„è´¦æˆ·**
   - é“¾æ¥åˆ°ç°æœ‰é¡¹ç›®ï¼Ÿ **å¦**
   - æ‚¨çš„é¡¹ç›®åç§°æ˜¯ä»€ä¹ˆï¼Ÿ **better-saas**
   - æ‚¨çš„ä»£ç ä½äºå“ªä¸ªç›®å½•ï¼Ÿ **./src**

## ğŸ”§ ç¯å¢ƒå˜é‡

åœ¨ Vercel æ§åˆ¶é¢æ¿ä¸­é…ç½®æ‚¨çš„ç¯å¢ƒå˜é‡ï¼š

### å¿…éœ€å˜é‡

```bash
# åº”ç”¨ç¨‹åºé…ç½®
NEXT_PUBLIC_APP_URL=https://your-domain.vercel.app

# æ•°æ®åº“
DATABASE_URL=postgresql://username:password@host:5432/database

# è®¤è¯
BETTER_AUTH_SECRET=your-production-secret-key

# ç®¡ç†å‘˜é…ç½®
ADMIN_EMAILS=admin@yourdomain.com
```

### å¯é€‰å˜é‡ï¼ˆç”¨äºå®Œæ•´åŠŸèƒ½ï¼‰

```bash
# Stripe æ”¯ä»˜
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
NEXT_PUBLIC_STRIPE_PRICE_PRO_MONTHLY=price_monthly_id
NEXT_PUBLIC_STRIPE_PRICE_PRO_YEARLY=price_yearly_id

# OAuth æä¾›å•†
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# æ–‡ä»¶å­˜å‚¨
R2_BUCKET_NAME=your-production-bucket
R2_ACCESS_KEY_ID=your-access-key-id
R2_SECRET_ACCESS_KEY=your-secret-access-key
R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
R2_PUBLIC_URL=https://your-production-domain.com
```

### è®¾ç½®ç¯å¢ƒå˜é‡

1. **é€šè¿‡ Vercel æ§åˆ¶é¢æ¿ï¼š**
   - è½¬åˆ°é¡¹ç›®è®¾ç½®
   - å¯¼èˆªåˆ°"ç¯å¢ƒå˜é‡"
   - æ·»åŠ æ¯ä¸ªå˜é‡å¹¶é€‰æ‹©é€‚å½“çš„ç¯å¢ƒï¼ˆç”Ÿäº§ã€é¢„è§ˆã€å¼€å‘ï¼‰

2. **é€šè¿‡ Vercel CLIï¼š**
   ```bash
   vercel env add NEXT_PUBLIC_APP_URL
   vercel env add DATABASE_URL
   vercel env add BETTER_AUTH_SECRET
   ```

## ğŸ—„ï¸ æ•°æ®åº“è®¾ç½®

### PostgreSQL æ•°æ®åº“

ä¸ºæ‚¨çš„ç”Ÿäº§æ•°æ®åº“é€‰æ‹©ä»¥ä¸‹é€‰é¡¹ä¹‹ä¸€ï¼š

#### é€‰é¡¹ 1ï¼šå¤–éƒ¨ PostgreSQLï¼ˆæ¨èï¼‰

æµè¡Œçš„ PostgreSQL æ‰˜ç®¡é€‰é¡¹ï¼š
- **Neon** - [neon.tech](https://neon.tech/)ï¼ˆæ¨èï¼‰
- **Supabase** - [supabase.com](https://supabase.com/)
- **PlanetScale** - [planetscale.com](https://planetscale.com/)

ç™»å½•Neonï¼Œåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œåœ¨é¡¹ç›®é¢æ¿ä¸­ç‚¹å‡»"Connect",å¤åˆ¶æ•°æ®åº“URLï¼Œå°†æ•°æ®åº“URLæ·»åŠ åˆ° .env æ–‡ä»¶çš„`DATABASE_URL`å˜é‡ä¸­ã€‚


#### é€‰é¡¹ 2ï¼šVercel Postgres

1. **å‘é¡¹ç›®æ·»åŠ  Vercel Postgresï¼š**
   ```bash
   vercel postgres create
   ```

2. **é“¾æ¥åˆ°æ‚¨çš„é¡¹ç›®ï¼š**
   ```bash
   vercel postgres connect
   ```

3. **è·å–è¿æ¥è¯¦ç»†ä¿¡æ¯ï¼š**
   - `DATABASE_URL` å°†è‡ªåŠ¨æ·»åŠ åˆ°æ‚¨çš„ç¯å¢ƒå˜é‡ä¸­


### æ•°æ®åº“è¿ç§»

è®¾ç½®æ•°æ®åº“åï¼Œè¿è¡Œè¿ç§»ï¼š

```bash
# ç”Ÿæˆè¿ç§»æ–‡ä»¶
pnpm db:generate

# å°†è¿ç§»åº”ç”¨åˆ°ç”Ÿäº§æ•°æ®åº“
pnpm db:migrate
```

## ğŸ”„ è‡ªåŠ¨éƒ¨ç½²

### GitHub é›†æˆ

1. **è¿æ¥æ‚¨çš„ GitHub ä»“åº“ï¼š**
   - è½¬åˆ° Vercel æ§åˆ¶é¢æ¿
   - ç‚¹å‡»"å¯¼å…¥é¡¹ç›®"
   - é€‰æ‹©æ‚¨çš„ GitHub ä»“åº“
   - é…ç½®æ„å»ºè®¾ç½®

2. **è‡ªåŠ¨éƒ¨ç½²è§¦å‘å™¨ï¼š**
   - âœ… **æ¨é€åˆ°ä¸»åˆ†æ”¯** - éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
   - âœ… **æ‹‰å–è¯·æ±‚** - åˆ›å»ºé¢„è§ˆéƒ¨ç½²
   - âœ… **åˆ†æ”¯éƒ¨ç½²** - éƒ¨ç½²ç‰¹å®šåˆ†æ”¯

### æ„å»ºé…ç½®

Vercel è‡ªåŠ¨æ£€æµ‹ Next.js é¡¹ç›®ã€‚é»˜è®¤é…ç½®ï¼š

```json
{
  "buildCommand": "pnpm build",
  "devCommand": "pnpm dev",
  "installCommand": "pnpm install",
  "outputDirectory": ".next"
}
```

### è‡ªå®šä¹‰æ„å»ºè®¾ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `vercel.json` è¿›è¡Œè‡ªå®šä¹‰é…ç½®ï¼š

```json
{
  "framework": "nextjs",
  "buildCommand": "pnpm build",
  "devCommand": "pnpm dev",
  "installCommand": "pnpm install",
  "functions": {
    "app/api/**/*.ts": {
      "maxDuration": 30
    }
  },
  "crons": [
    {
      "path": "/api/cron/cleanup",
      "schedule": "0 2 * * *"
    }
  ]
}
```

## ğŸŒ è‡ªå®šä¹‰åŸŸå

### æ·»åŠ è‡ªå®šä¹‰åŸŸå

1. **åœ¨ Vercel æ§åˆ¶é¢æ¿ä¸­ï¼š**
   - è½¬åˆ°é¡¹ç›®è®¾ç½®
   - å¯¼èˆªåˆ°"åŸŸå"
   - æ·»åŠ æ‚¨çš„è‡ªå®šä¹‰åŸŸå

2. **DNS é…ç½®ï¼š**
   - æ·»åŠ æŒ‡å‘ `cname.vercel-dns.com` çš„ CNAME è®°å½•
   - æˆ–æ·»åŠ æŒ‡å‘ Vercel IP åœ°å€çš„ A è®°å½•

3. **SSL è¯ä¹¦ï¼š**
   - Vercel è‡ªåŠ¨æä¾› SSL è¯ä¹¦
   - é»˜è®¤å¯ç”¨ HTTPS

### åŸŸåé…ç½®ç¤ºä¾‹

```bash
# DNS è®°å½•
CNAME   www     cname.vercel-dns.com
CNAME   @       cname.vercel-dns.com

# æˆ– A è®°å½•
A       @       76.76.19.61
A       @       76.76.19.62
```

## ğŸ” å®‰å…¨é…ç½®

### ç¯å¢ƒç‰¹å®šè®¾ç½®

```bash
# ç”Ÿäº§ç¯å¢ƒå˜é‡
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://yourdomain.com

# å®‰å…¨å¤´ï¼ˆç”± Vercel è‡ªåŠ¨å¤„ç†ï¼‰
# - X-Frame-Options
# - X-Content-Type-Options
# - X-XSS-Protection
# - Strict-Transport-Security
```

### Webhook å®‰å…¨

å¯¹äº Stripe webhooksï¼Œåœ¨æ‚¨çš„ Stripe æ§åˆ¶é¢æ¿ä¸­é…ç½®ç«¯ç‚¹ï¼š

```
Webhook URL: https://yourdomain.com/api/webhooks/stripe
Events: customer.subscription.created, customer.subscription.updated, invoice.payment_succeeded
```

## ğŸ“Š ç›‘æ§å’Œåˆ†æ

### Vercel Analytics

å¯ç”¨ Vercel Analytics è¿›è¡Œæ€§èƒ½ç›‘æ§ï¼š

1. **å®‰è£… Vercel Analyticsï¼š**
   ```bash
   pnpm add @vercel/analytics
   ```

2. **æ·»åŠ åˆ°æ‚¨çš„å¸ƒå±€ï¼š**
   ```tsx
   import { Analytics } from '@vercel/analytics/react'
   
   export default function RootLayout({
     children,
   }: {
     children: React.ReactNode
   }) {
     return (
       <html>
         <body>
           {children}
           <Analytics />
         </body>
       </html>
     )
   }
   ```

### é€Ÿåº¦æ´å¯Ÿ

å¯ç”¨é€Ÿåº¦æ´å¯Ÿä»¥è·å–æ€§èƒ½æŒ‡æ ‡ï¼š

```bash
pnpm add @vercel/speed-insights
```

```tsx
import { SpeedInsights } from '@vercel/speed-insights/next'

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html>
      <body>
        {children}
        <SpeedInsights />
      </body>
    </html>
  )
}
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### æ„å»ºå¤±è´¥

**é—®é¢˜ï¼š** æ„å»ºå› ä¾èµ–é”™è¯¯è€Œå¤±è´¥
```bash
# è§£å†³æ–¹æ¡ˆï¼šæ¸…é™¤ç¼“å­˜å¹¶é‡æ–°å®‰è£…
vercel --force
```

#### ç¯å¢ƒå˜é‡æœªåŠ è½½

**é—®é¢˜ï¼š** ç¯å¢ƒå˜é‡åœ¨ç”Ÿäº§ä¸­æœªå®šä¹‰
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
vercel env ls

# æœ¬åœ°æ‹‰å–ç¯å¢ƒå˜é‡
vercel env pull .env.local
```

#### æ•°æ®åº“è¿æ¥é—®é¢˜

**é—®é¢˜ï¼š** æ— æ³•è¿æ¥åˆ°æ•°æ®åº“
```bash
# éªŒè¯ DATABASE_URL æ ¼å¼
postgresql://username:password@host:5432/database

# æœ¬åœ°æµ‹è¯•è¿æ¥
psql $DATABASE_URL
```

#### å‡½æ•°è¶…æ—¶

**é—®é¢˜ï¼š** API è·¯ç”±åœ¨ 10 ç§’åè¶…æ—¶
```json
// vercel.json
{
  "functions": {
    "app/api/**/*.ts": {
      "maxDuration": 30
    }
  }
}
```

### æ€§èƒ½ä¼˜åŒ–

#### Edge Runtime

ä½¿ç”¨ Edge Runtime è·å¾—æ›´å¿«çš„å“åº”æ—¶é—´ï¼š

```typescript
// app/api/example/route.ts
export const runtime = 'edge'

export async function GET() {
  return Response.json({ message: 'Hello from Edge Runtime!' })
}
```

#### é™æ€ç”Ÿæˆ

ä¼˜åŒ–é™æ€é¡µé¢ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼š

```typescript
// app/page.tsx
export const revalidate = 3600 // æ¯å°æ—¶é‡æ–°éªŒè¯

export default function HomePage() {
  return <div>æ‚¨çš„å†…å®¹</div>
}
```

## ğŸ¯ æœ€ä½³å®è·µ

### éƒ¨ç½²æ£€æŸ¥æ¸…å•

åœ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¹‹å‰ï¼š

- [ ] **ç¯å¢ƒå˜é‡** å·²é…ç½®
- [ ] **æ•°æ®åº“** å·²è®¾ç½®å¹¶è¿ç§»
- [ ] **åŸŸå** å·²é…ç½® SSL
- [ ] **Webhooks** å·²ä¸ºå¤–éƒ¨æœåŠ¡é…ç½®
- [ ] **åˆ†æ** å’Œç›‘æ§å·²å¯ç”¨
- [ ] **é”™è¯¯è·Ÿè¸ª** å·²é…ç½®
- [ ] **æ€§èƒ½** å·²ä¼˜åŒ–

### å®‰å…¨æœ€ä½³å®è·µ

- âœ… ä¸º `BETTER_AUTH_SECRET` ä½¿ç”¨å¼ºå¯†é’¥
- âœ… ä¸º API è·¯ç”±æ­£ç¡®é…ç½® CORS
- âœ… ä¸ºæ‰€æœ‰å¤–éƒ¨ webhooks ä½¿ç”¨ HTTPS
- âœ… å®šæœŸè½®æ¢ API å¯†é’¥å’Œå¯†ç 
- âœ… ç›‘æ§å®‰å…¨æ¼æ´
- âœ… ä½¿ç”¨ç¯å¢ƒç‰¹å®šé…ç½®

### æ€§èƒ½æœ€ä½³å®è·µ

- âœ… å°½å¯èƒ½å¯ç”¨ Edge Runtime
- âœ… ä¸ºé™æ€å†…å®¹ä½¿ç”¨é™æ€ç”Ÿæˆ
- âœ… ä½¿ç”¨ Next.js Image ç»„ä»¶ä¼˜åŒ–å›¾åƒ
- âœ… å®æ–½é€‚å½“çš„ç¼“å­˜ç­–ç•¥
- âœ… ç›‘æ§æ ¸å¿ƒ Web æŒ‡æ ‡
- âœ… ä½¿ç”¨ Vercel Analytics è·å¾—æ´å¯Ÿ


**æ­å–œï¼** æ‚¨çš„ Better SaaS åº”ç”¨ç¨‹åºç°å·²åœ¨ Vercel ä¸Šçº¿ã€‚ç›‘æ§æ‚¨çš„åº”ç”¨ç¨‹åºæ€§èƒ½å¹¶éšç€ç”¨æˆ·ç¾¤çš„å¢é•¿è¿›è¡Œæ‰©å±•ã€‚

**éœ€è¦å¸®åŠ©ï¼Ÿ** æ‰«ç æ·»åŠ ä½œè€…å¾®ä¿¡ï¼Œé‚€è¯·ä½ è¿›å…¥ä¸“å±å¾®ä¿¡ç¾¤ï¼Œè·å–æ›´å¤šé¡¹ç›®ä¿¡æ¯å’Œä½¿ç”¨æ•™ç¨‹ã€‚
<div className="flex justify-center">
  <img src="/images/wechat.png" alt="WeChat" className="w-1/2 h-auto" />
</div>